$primaryDeepColor: rgb(2, 203, 2);
$secondaryDeepColor: rgba(7, 107, 7);
$primaryDeepRed: rgb(182, 28, 28);
$secondaryDeepRed: rgb(105, 16, 16);
$primaryDeepGray: rgb(183, 181, 181);
$primaryHomeColor: rgb(130, 49, 251);
$bgColor: rgb(10, 18, 6);
$mockWebpageBg: #1f2020;
$mockWebpageContainerBg: #3c3c3c;
$nodePoligon: polygon(
  88% 0,
  100% 27%,
  100% 100%,
  73% 100%,
  65% 85%,
  9% 83%,
  0 61%,
  0 0
);
$verticalNodePoligon: polygon(
  0 88%,
  27% 100%,
  100% 100%,
  100% 73%,
  85% 65%,
  83% 9%,
  61% 0,
  0 0
);

@mixin innerLine(
  $width,
  $height,
  $borderRightColor,
  $borderBottomColor,
  $opacity
) {
  width: $width;
  height: $height;
  border-right: 2px solid rgba($color: $borderRightColor, $alpha: $opacity);
  border-bottom: 2px solid rgba($color: $borderBottomColor, $alpha: $opacity);
}

@mixin borderLine($height, $top, $left) {
  width: 6px;
  height: $height;
  background-color: $primaryDeepColor;
  top: $top;
  left: $left;
}

@mixin smallWidthBorderLine($width, $top, $left) {
  width: $width;
  height: 6px;
  background-color: $primaryDeepColor;
  top: $top;
  left: $left;
}

@mixin randomStrings($top, $right, $left) {
  top: $top;
  right: $right;
  left: $left;
  line-height: 0.6rem;
  p {
    font-size: 0.6rem;
    color: $primaryDeepColor;
  }
}

.deep {
  width: 100vw;
  height: 100vh;
  background-color: $bgColor;

  .deep-sidebar {
    width: 10vw;
    min-height: 100vh;
    background-color: rgba($color: $primaryDeepColor, $alpha: 0.05);
    border-right: 2px solid $primaryDeepColor;
    z-index: 10;

    .first-w-line {
      @include innerLine(60%, 100%, $primaryDeepColor, transparent, 0.05);
    }

    .second-w-line {
      @include innerLine(20%, 100%, $primaryDeepColor, transparent, 0.15);
    }

    .third-w-line {
      @include innerLine(10%, 100%, $primaryDeepColor, transparent, 0.2);
    }

    .h-lines-container {
      inset: 0;

      .first-h-line {
        @include innerLine(100%, 12%, transparent, $primaryDeepColor, 0.2);
      }

      .second-h-line {
        @include innerLine(100%, 4%, transparent, $primaryDeepColor, 0.2);
        background-color: rgba($color: $primaryDeepColor, $alpha: 0.03);
      }

      .third-h-line {
        @include innerLine(100%, 75%, transparent, $primaryDeepColor, 0.15);
      }

      .forth-h-line {
        @include innerLine(100%, 1%, transparent, $primaryDeepColor, 0.05);
      }
    }

    .curl-effect {
      width: 20%;
      height: 10%;
      top: 80%;
      right: 0;
      background-color: $primaryDeepColor;
      clip-path: polygon(0 25%, 100% 0, 100% 100%, 0 75%);

      &::before,
      &::after {
        content: "";
        position: absolute;
        inset: 2px;
        clip-path: polygon(0 25%, 100% 2%, 100% 98%, 0 75%);
      }

      &::before {
        background-color: $bgColor;
      }

      &::after {
        background-color: rgba($color: $primaryDeepColor, $alpha: 0.05);
      }
    }

    .first-border-line {
      @include borderLine(20%, 15%, 100%);
    }

    .second-border-line {
      @include borderLine(12%, 63%, 100%);
    }

    .nodes-container {
      width: 120%;
      height: 100%;
      top: 0;
      left: 0;
      padding: 20px 0;
      box-sizing: border-box;
      overflow-x: scroll;
      z-index: 2;
      gap: 10px;
    }
  }

  .deep-main {
    width: 90vw;
    height: 99vh;
    box-sizing: border-box;
    padding: 20px;
    gap: 20px;

    .top-main {
      width: 100%;
      height: 10%;
      gap: 6px;

      .dots {
        width: 30%;
        height: 100%;
        gap: 12px;

        > div {
          width: fit-content;
          height: 100%;

          .single-dot {
            width: 6px;
            height: 6px;
          }
        }
      }

      .promo-card {
        width: 70%;
        height: 100%;
        background-color: $mockWebpageBg;
        border: 1px solid #707070;
        border-radius: 8px;
        overflow: hidden;

        &:hover {
          .mock-webmenu .tab-cover {
            .red-dot {
              background-color: #ff5e57;
            }

            .yellow-dot {
              background-color: #ffbc2e;
            }

            .green-dot {
              background-color: #2bc840;
            }
          }
        }

        .mock-webmenu {
          width: 100%;
          height: 20%;

          .tab-cover {
            width: 50px;
            height: 100%;
            border-bottom-left-radius: 8px;
            border-bottom-right-radius: 8px;
            background-color: $mockWebpageBg;
            gap: 4px;
            z-index: 1;

            &:hover {
              .not-show {
                display: block;
              }
            }

            > div {
              height: 35%;
              aspect-ratio: 1;
              background-color: $mockWebpageContainerBg;
              border-radius: 50%;

              .mock-drop-down {
                transform: translateY(-0.5px);
                font-size: 0.5rem;
                cursor: default;
              }

              .triangle {
                width: 0;
                height: 0;
                border-top: 3px solid rgba(19, 75, 19, 0.821);
                border-right: 3px solid transparent;
              }

              .up-left {
                top: 30%;
                left: 25%;
              }

              .bottom-right {
                top: 40%;
                left: 35%;
                transform: scale(-1);
              }
            }
          }
          .mock-tab {
            width: 100px;
            height: 80%;
            border-top-left-radius: 8px;
            border-top-right-radius: 8px;
            box-sizing: border-box;
            padding: 2px;
            background-color: $mockWebpageContainerBg;
            gap: 4px;
            z-index: 0;

            img {
              height: 80%;
            }

            p {
              width: 100%;
              color: white;
              font-size: 0.3rem;
            }

            .mock-close-tab {
              height: 75%;
              aspect-ratio: 1;
              border-radius: 50%;
              transform: translate(-2px, -1px);

              svg {
                height: 100%;
                color: white;
              }

              &:hover {
                background-color: rgb(108, 108, 108);
              }
            }

            .bottom-bg {
              top: 50%;
              right: -10px;
              bottom: 0;
              left: -10px;
              z-index: -1;
              background-color: $mockWebpageContainerBg;
            }
          }

          .mock-searching-button {
            height: 60%;
            aspect-ratio: 1;
            top: 20%;
            right: 5px;
            border-radius: 4px;
            background-color: $mockWebpageContainerBg;

            svg {
              height: 50%;
              color: white;
            }

            &:hover {
              background-color: rgb(46, 80, 135);
            }
          }

          .not-show {
            display: none;
          }
        }

        .card-carousel {
          width: 100%;
          height: 80%;
          background-color: white;

          .quit-deep {
            bottom: 5%;
            right: 1%;

            .buy-now-button {
              background-color: $primaryHomeColor;
              color: white;
              font-size: 0.8rem;

              &::before,
              &::after {
                background-color: inherit;
                opacity: 80%;
              }

              &:hover {
                background-color: $primaryColor;
              }
            }
          }
        }
      }

      .quit-deep {
        .buy-now-button {
          left: unset;
          top: unset;
          background-color: rgba($color: $primaryDeepColor, $alpha: 0.5);
          color: $primaryDeepColor;

          &::before,
          &::after {
            content: "";
            inset: 2px;
            position: absolute;
            clip-path: inherit;
            background-color: black;
            z-index: -2;
          }

          &:hover::after {
            background-color: rgba($color: $primaryDeepColor, $alpha: 0.15);
          }

          &:hover {
            background-color: rgba($color: $primaryDeepColor, $alpha: 1);
          }
        }
      }
    }

    .main-game {
      width: 95%;
      height: 70%;
      background-color: black;
      border: 2px solid $primaryDeepColor;

      .game {
        width: 100%;
        height: 100%;
        z-index: 2;
        overflow: hidden;

        .logo-hacker {
          height: 80%;
          width: auto;
          z-index: 3;
        }
      }

      .game-bg {
        inset: 0;
        z-index: 1;
        pointer-events: none;

        .first-w-line {
          @include innerLine(1%, 100%, $primaryDeepColor, transparent, 0.2);
        }

        .second-w-line {
          @include innerLine(2%, 100%, $primaryDeepColor, transparent, 0.15);
        }

        .third-w-line {
          @include innerLine(4%, 100%, $primaryDeepColor, transparent, 0.05);
        }

        .forth-w-line {
          @include innerLine(85%, 100%, $primaryDeepColor, transparent, 0.05);
        }

        .fifth-w-line {
          @include innerLine(5%, 100%, $primaryDeepColor, transparent, 0.15);
        }

        .sixth-w-line {
          @include innerLine(2%, 100%, $primaryDeepColor, transparent, 0.2);
        }

        .first-h-line {
          @include innerLine(100%, 8%, transparent, $primaryDeepColor, 0.2);
        }

        .second-h-line {
          @include innerLine(100%, 12%, transparent, $primaryDeepColor, 0.2);
        }

        .third-h-line {
          @include innerLine(100%, 67%, transparent, $primaryDeepColor, 0.15);
        }
      }
      .first-border-line {
        @include borderLine(10%, 8%, 100%);
      }

      .second-border-line {
        @include borderLine(23%, 54%, 100%);
      }

      .third-border-line {
        @include borderLine(21%, 17%, -4px);
      }

      .forth-border-line {
        @include borderLine(16%, 62%, -4px);
      }

      .random-strings {
        @include randomStrings(-5%, unset, 0%);
      }
    }
  }

  .chat {
    height: 15%;
    width: 80vw;

    .hacker-avatar {
      height: 100%;
      aspect-ratio: 1;
      box-sizing: border-box;
      padding: 5px;
      clip-path: polygon(0 0, 75% 0, 100% 25%, 100% 100%, 25% 100%, 0 75%);
      background-color: rgba($color: $primaryDeepGray, $alpha: 0.7);

      &::before,
      &::after {
        content: "";
        position: absolute;
        inset: 2px;
        clip-path: inherit;
      }

      &::before {
        background-color: black;
      }

      &::after {
        background-color: rgba($color: $primaryDeepGray, $alpha: 0.1);
      }

      img {
        height: 100%;
        z-index: 2;
      }

      .hacker-bg {
        inset: 0;
        z-index: 1;

        .first-w-line {
          @include innerLine(5%, 100%, $primaryDeepGray, transparent, 0.2);
        }

        .second-w-line {
          @include innerLine(4%, 100%, $primaryDeepGray, transparent, 0.15);
        }

        .third-w-line {
          @include innerLine(5%, 100%, $primaryDeepGray, transparent, 0.05);
        }

        .forth-w-line {
          @include innerLine(75%, 100%, $primaryDeepGray, transparent, 0.05);
        }

        .fifth-w-line {
          @include innerLine(5%, 100%, $primaryDeepGray, transparent, 0.15);
        }

        .sixth-w-line {
          @include innerLine(4%, 100%, $primaryDeepGray, transparent, 0.2);
        }

        .first-h-line {
          @include innerLine(100%, 7%, transparent, $primaryDeepGray, 0.2);
        }

        .second-h-line {
          @include innerLine(100%, 4%, transparent, $primaryDeepGray, 0.2);
        }

        .third-h-line {
          @include innerLine(100%, 80%, transparent, $primaryDeepGray, 0.15);
        }
      }

      .dots-container {
        width: 10%;
        height: 10%;
        bottom: 10%;
        right: 7%;
        z-index: 1;

        > div {
          gap: 10%;
          width: 100%;
          height: 100%;
          grid-auto-flow: dense;
          direction: rtl;
          writing-mode: vertical-rl;
        }

        .single-dot {
          background-color: $primaryDeepGray;
        }
      }
    }

    .hacker-chat {
      width: 100%;
      height: 75%;
      box-sizing: border-box;

      .chat-container {
        width: 100%;
        height: 100%;
        background-color: $primaryDeepColor;
        clip-path: polygon(0 0, 100% 0, 100% 75%, 95% 100%, 0 100%);
        z-index: 1;

        &::before {
          content: "";
          position: absolute;
          top: 2px;
          right: 2px;
          bottom: 2px;
          left: 0;
          clip-path: inherit;
        }

        &::before {
          background-color: black;
        }

        p {
          font-size: 1.5rem;
          overflow-y: scroll;
        }

        .chat-bg {
          inset: 0;
          z-index: 2;

          .first-w-line {
            @include innerLine(1%, 100%, $primaryDeepColor, transparent, 0.2);
          }

          .second-w-line {
            @include innerLine(1%, 100%, $primaryDeepColor, transparent, 0.15);
          }

          .third-w-line {
            @include innerLine(2%, 100%, $primaryDeepColor, transparent, 0.1);
          }

          .forth-w-line {
            @include innerLine(92%, 100%, $primaryDeepColor, transparent, 0.1);
          }

          .fifth-w-line {
            @include innerLine(2%, 100%, $primaryDeepColor, transparent, 0.15);
          }

          .sixth-w-line {
            @include innerLine(1%, 100%, $primaryDeepColor, transparent, 0.2);
          }

          .first-h-line {
            @include innerLine(100%, 12%, transparent, $primaryDeepColor, 0.2);
          }

          .second-h-line {
            @include innerLine(100%, 4%, transparent, $primaryDeepColor, 0.2);
            background-color: rgba($color: $primaryDeepColor, $alpha: 0.03);
          }

          .third-h-line {
            @include innerLine(100%, 75%, transparent, $primaryDeepColor, 0.15);
          }

          .forth-h-line {
            @include innerLine(100%, 1%, transparent, $primaryDeepColor, 0.05);
          }
        }
      }

      p {
        top: 17%;
        right: 2.5%;
        bottom: 17%;
        left: 2%;
        color: $primaryDeepColor;
        font-size: 1.15rem;
        z-index: 3;
      }

      .dots-container {
        bottom: 0;
        right: 0;
        gap: 4px;

        > div {
          width: 100%;
          height: 100%;
          gap: 4px;

          .single-dot {
            width: 7px;
            height: 7px;
          }
        }
      }

      .random-strings {
        @include randomStrings(102%, 5%, unset);
      }
    }
  }

  .node-deep {
    width: 100%;
    height: 3.57vw;
    clip-path: $nodePoligon;
    background-color: $primaryDeepColor;
    box-sizing: border-box;
    padding: 5px;
    overflow: hidden;
    cursor: pointer;

    .inner-node {
      width: 100%;
      height: 3vw;
      background-color: rgba($color: $secondaryDeepColor, $alpha: 0.3);
      clip-path: $nodePoligon;
      z-index: 0;

      &::after {
        content: "";
        position: absolute;
        inset: 2px;
        background-color: $primaryDeepColor;
        clip-path: $nodePoligon;
        z-index: 0;
      }
    }

    .border-node {
      left: -2px;
      top: 15%;
      width: 94%;
      height: 65%;
      background-color: rgba($color: $secondaryDeepColor, $alpha: 0.7);
      clip-path: polygon(
        88% 0,
        100% 27%,
        100% 100%,
        77% 100%,
        70% 85%,
        0 83%,
        0 61%,
        0 0
      );

      &::after {
        content: "";
        position: absolute;
        inset: 2px;
        clip-path: inherit;
        background-color: $primaryDeepColor;
      }
    }

    .vertical-cover {
      left: 5px;
      top: 6px;
      width: 2px;
      height: 45%;
      background-color: rgba($color: $secondaryDeepColor, $alpha: 0.3);
    }

    .angular-cover {
      left: calc(5px + 3.5%);
      top: calc(6px + 41%);
      width: 2px;
      height: 30%;
      background-color: rgba($color: $secondaryDeepColor, $alpha: 0.3);
      transform: rotate(-45deg);
    }

    .sash {
      top: 0;
      left: 30%;
      width: 3.57vw;
      height: 3.57vw;
      background-color: rgba($color: $secondaryDeepColor, $alpha: 0.5);
      clip-path: polygon(65% 1%, 100% 0%, 35% 100%, 0 100%);

      &::before,
      &::after {
        content: "";
        position: absolute;
        top: -10%;
        width: 3px;
        height: 105%;
        background-color: rgba($color: $secondaryDeepColor, $alpha: 0.4);
        transform: rotate(33deg);
      }

      &::before {
        left: 38%;
      }

      &::after {
        left: 68%;
      }
    }

    .dots-container {
      top: 33%;
      left: 73%;
      width: 18%;
      height: 40%;
      gap: 2px;
      box-sizing: border-box;
      padding: 1%;

      div {
        width: 100%;
        height: 100%;
        gap: 2px;
      }
    }

    .employee {
      top: 40%;
      transform: translateY(-50%);
      font-size: 100%;
      height: 50%;
    }
  }

  .single-dot {
    height: 100%;
    width: 100%;
    border-radius: 50%;
    background-color: $secondaryDeepColor;
  }

  .node-deep.node-gained {
    background-color: $primaryDeepRed;
    transform: translateX(-20%);

    .inner-node {
      background-color: rgba($color: $secondaryDeepRed, $alpha: 0.3);

      &::after {
        background-color: $primaryDeepRed;
      }
    }

    .border-node {
      background-color: rgba($color: $secondaryDeepRed, $alpha: 0.7);

      &::after {
        background-color: $primaryDeepRed;
      }
    }

    .vertical-cover,
    .angular-cover {
      background-color: rgba($color: $secondaryDeepColor, $alpha: 0.3);
    }

    .sash {
      background-color: rgba($color: $secondaryDeepRed, $alpha: 0.5);

      &::before,
      &::after {
        background-color: rgba($color: $secondaryDeepRed, $alpha: 0.4);
      }
    }

    .employee {
      left: 22%;
      color: white;
    }

    .single-dot {
      background-color: $secondaryDeepRed;
    }
  }
}

/* Starting The Media Query */

@media (max-width: 1280px) {
  .deep {
    .deep-sidebar {
      width: 100%;
      min-height: 80px;
      border-bottom: 2px solid $primaryDeepColor;
      border-right: none;

      .nodes-container {
        width: 100%;
        height: 160%;
        overflow-x: unset;
        overflow-y: scroll;
        flex-direction: row;
        gap: 12px;
        padding: 10px 10px;
      }

      .h-lines-container {
        .second-h-line {
          height: 18%;
        }

        .third-h-line {
          height: 52%;
        }

        .forth-h-line {
          height: 8%;
        }
      }

      .first-border-line {
        @include smallWidthBorderLine(37%, 100%, 17%);
      }

      .second-border-line {
        @include smallWidthBorderLine(11%, 100%, 84%);
      }

      .curl-effect {
        width: 10%;
        height: 20%;
        top: 82%;
        left: -20%;
        clip-path: polygon(25% 0, 0 100%, 100% 100%, 75% 0);

        &::before,
        &::after {
          clip-path: inherit;
        }
      }
    }

    .deep-main {
      width: 100vw;
      height: calc(100vh - 100px);
      gap: 20px;

      .top-main {
        height: 5%;
        justify-content: flex-end;

        .dots {
          height: 80%;
          align-self: flex-end;
          gap: 6px;

          > div {
            gap: 2px;
          }
        }
      }

      .main-game {
        height: 65%;
      }
    }

    .chat {
      .hacker-chat {
        .chat-container {
          p {
            font-size: 1.25rem;
          }
        }
      }
    }

    .node-deep {
      width: 50px;
      height: 100%;
      clip-path: $verticalNodePoligon;

      .inner-node {
        clip-path: inherit;
        height: 100%;
        width: 95%;

        &::after {
          clip-path: inherit;
        }
      }

      .border-node {
        left: 17%;
        top: -2px;
        clip-path: inherit;
        height: 90%;
        width: 50%;

        &::after {
          clip-path: inherit;
        }
      }

      .vertical-cover {
        height: 2px;
        width: 45%;
        top: 4px;
      }

      .angular-cover {
        display: none;
      }

      .sash {
        left: 0;
        top: 30%;
        width: 50px;
        height: 50px;
        clip-path: polygon(1% 65%, 0% 100%, 100% 35%, 100% 0);

        &::before,
        &::after {
          clip-path: inherit;
          transform: rotate(50deg);
          width: 5px;
        }

        &::before {
          left: 40%;
          top: -12%;
        }

        &::after {
          left: 40%;
          top: 16%;
        }
      }

      .dots-container {
        top: 68%;
        left: 22%;
        width: 42%;
        height: 12%;
        flex-direction: row;
        transform: rotate(90deg);
      }

      .employee {
        transform-origin: left bottom;
        white-space: nowrap;
        left: 28%;
        top: 30%;
        line-height: 0.8rem;
        font-size: 0.8rem;
      }
    }
    .node-deep.node-gained {
      transform: translateY(-20px);
      .employee {
        top: 37%;
        left: 28%;
      }
    }
  }
}

@media (max-width: 550px) {
  .deep {
    .deep-main {
      .main-game {
        .game {
          .logo-hacker {
            width: 90%;
            height: auto;
          }
        }
      }
    }
  }
}

@media (max-width: 768px) {
  .deep {
    .deep-sidebar {
      min-height: 60px;
    }

    .deep-main {
      .top-main {
        gap: 0;

        .dots {
          gap: 4px;
          div {
            .single-dot {
              width: 3px;
              height: 3px;
            }
          }
        }
        .quit-deep {
          .buy-now-button {
            font-size: 0.7rem;
          }
        }
      }

      .main-game {
        height: calc(100vh - 70px);
        .random-strings {
          line-height: 0.3rem;
          p {
           font-size: 0.3rem;
          }
         }
      }
    }

    .chat {
      .hacker-chat {
        .chat-container {
          p {
            font-size: 0.75rem;
          }
        }

        .random-strings {
          line-height: 0.3rem;
          p {
           font-size: 0.3rem;
          }
         }
      }
    }
    .node-deep {
      width: 35px;

      .employee {
        font-size: 0.65rem;
        line-height: 0.65rem;
      }
    }

    .node-deep.node-gained {
      .employee {
        top: 40%;
      }
    }
  }
}
